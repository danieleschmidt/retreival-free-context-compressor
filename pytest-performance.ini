[pytest]
# Performance testing configuration
markers =
    performance: marks tests as performance benchmarks
    slow: marks tests as slow running
    memory: marks tests that measure memory usage
    gpu: marks tests that require GPU

# Performance test discovery
python_files = test_*.py *_test.py benchmark_*.py
python_classes = Test* Benchmark*
python_functions = test_* benchmark_*

# Performance-specific options
addopts =
    --benchmark-only
    --benchmark-sort=mean
    --benchmark-columns=min,max,mean,stddev,median,iqr,outliers,ops
    --benchmark-warmup=on
    --benchmark-warmup-iterations=3
    --benchmark-disable-gc
    --benchmark-json=performance/results.json

# Timeout for performance tests
timeout = 300

# Memory profiling
memprof = true